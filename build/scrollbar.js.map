{"version":3,"file":"scrollbar.js","mappings":"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","sources":["webpack://plugin-slug/./src/hooks/useScrollbar.js","webpack://plugin-slug/./src/utils/function.js","webpack://plugin-slug/./src/scrollbar/style.scss","webpack://plugin-slug/../plugin-slug/node_modules/react-dom/client.js","webpack://plugin-slug/external window \"React\"","webpack://plugin-slug/external window \"ReactDOM\"","webpack://plugin-slug/webpack/bootstrap","webpack://plugin-slug/webpack/runtime/compat get default export","webpack://plugin-slug/webpack/runtime/define property getters","webpack://plugin-slug/webpack/runtime/hasOwnProperty shorthand","webpack://plugin-slug/webpack/runtime/make namespace object","webpack://plugin-slug/./src/scrollbar/scrollbar.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport const useScrollbar = (railRef = null, thumbRef = null, isShowScrollbar = false, wheelStep = 40) => {\r\n    const isClick = true, isDrag = true;\r\n    const [isActive, setIsActive] = useState(false);\r\n    const startY = useRef(0);\r\n    const startScrollTop = useRef(0);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [thumbHeight, setThumbHeight] = useState(\"\");\r\n    const [thumbPosition, setThumbPosition] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isWheel, setIsWheel] = useState(true);\r\n\r\n    const html = document.documentElement;\r\n\r\n\r\n\r\n\r\n    // Function to handle thumb dragging and update position\r\n    const handleThumbDrag = (clientY) => {\r\n        // 1. Get current metrics\r\n        const totalScrollableHeight = html.scrollHeight - html.clientHeight;\r\n        if (totalScrollableHeight <= 0) return; // No scrolling needed\r\n\r\n        // 2. Calculate drag distance and scroll ratio\r\n        const dragDistanceY = clientY - startY.current;\r\n        const availableTrackHeight = html.clientHeight - thumbHeight;\r\n\r\n        // 3. Calculate new scroll position with boundaries\r\n        const scrollRatio = dragDistanceY / availableTrackHeight;\r\n        const unboundedScrollTop = startScrollTop.current + (scrollRatio * totalScrollableHeight);\r\n        const boundedScrollTop = Math.max(0, Math.min(unboundedScrollTop, totalScrollableHeight));\r\n\r\n        // 4. Update scroll position immediately\r\n        html.scrollTop = boundedScrollTop;\r\n\r\n        // 5. Calculate and set thumb position\r\n        const scrollProgress = boundedScrollTop / totalScrollableHeight;\r\n        const newThumbPosition = scrollProgress * availableTrackHeight;\r\n\r\n        // Use direct assignment if possible, or ensure setThumbPosition is synchronous\r\n        // thumbRef.current.style.top= `${newThumbPosition}px`;\r\n        // Alternatively:  \r\n        setThumbPosition(newThumbPosition);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setIsActive(isShowScrollbar);\r\n\r\n        if (!isShowScrollbar) return;\r\n\r\n        html.classList.add('csb-scrollbar-active');\r\n\r\n        const updateScrollbar = () => {\r\n            if (!thumbRef.current) return;\r\n\r\n            const scrollableHeight = html.scrollHeight - html.clientHeight;\r\n            if (scrollableHeight <= 0) return;\r\n\r\n            // Calculate thumb height (minimum 20px)\r\n            const newThumbHeight = Math.max(\r\n                (html.clientHeight / html.scrollHeight) * html.clientHeight,\r\n                20\r\n            );\r\n            setThumbHeight(newThumbHeight);\r\n\r\n            // Update thumb position\r\n            const scrollPercentage = html.scrollTop / scrollableHeight;\r\n            const maxThumbPosition = html.clientHeight - newThumbHeight;\r\n            setThumbPosition(scrollPercentage * maxThumbPosition);\r\n        };\r\n\r\n        const handleMouseMove = (e) => {\r\n            // e.preventDefault();\r\n            if (!isDragging || !thumbRef?.current || !isDrag) return;\r\n            handleThumbDrag(e.clientY);\r\n        };\r\n\r\n        const handleMouseUp = () => {\r\n            setIsDragging(false);\r\n            document.body.style.cursor = '';\r\n            document.body.style.userSelect = '';\r\n\r\n        };\r\n\r\n        const handleMouseClick = (e) => {\r\n            // e.preventDefault();\r\n            // if (!railRef.current || !thumbRef.current || typeof thumbHeight !== 'number' || !isClick) return;\r\n\r\n            // const scrollableHeight = html.scrollHeight - html.clientHeight;\r\n            // if (scrollableHeight <= 0) return;\r\n\r\n            // const railHeight = html.clientHeight;\r\n            // const clickY = e.clientY;\r\n\r\n            // // Center the thumb on the click position\r\n            // const newThumbTop = clickY - (thumbHeight / 2);\r\n            // const thumbTrackHeight = railHeight - thumbHeight;\r\n\r\n            // // Clamp the thumb position to stay within the track\r\n            // const clampedThumbTop = Math.max(0, Math.min(newThumbTop, thumbTrackHeight));\r\n\r\n            // const scrollRatio = thumbTrackHeight > 0 ? (clampedThumbTop / thumbTrackHeight) : 0;\r\n\r\n            // // Set the new scroll position of the page\r\n            // // html.scrollTop = scrollRatio * scrollableHeight;\r\n            // window.scrollTo({\r\n            //     top: scrollRatio * scrollableHeight,\r\n            //     behavior: 'smooth'\r\n            // });\r\n\r\n            e.preventDefault();\r\n            if (!railRef.current || !thumbRef.current || !isClick) return;\r\n\r\n            const scrollableHeight = html.scrollHeight - html.clientHeight;\r\n            if (scrollableHeight <= 0) return;\r\n\r\n            const viewportHeight = html.clientHeight;\r\n            const currentScrollTop = html.scrollTop;\r\n            const thumbRect = thumbRef.current.getBoundingClientRect();\r\n\r\n            let newScrollTop;\r\n\r\n            if (e.clientY < thumbRect.top) {\r\n                // Clicked above the thumb, scroll up by one page (100dvh)\r\n                newScrollTop = currentScrollTop - viewportHeight;\r\n            } else if (e.clientY > thumbRect.bottom) {\r\n                // Clicked below the thumb, scroll down by one page (100dvh)\r\n                newScrollTop = currentScrollTop + viewportHeight;\r\n            } else {\r\n                // Clicked on the thumb itself, do nothing.\r\n                return;\r\n            }\r\n\r\n            // Clamp the new scroll position to stay within the valid range.\r\n            const boundedScrollTop = Math.max(0, Math.min(newScrollTop, scrollableHeight));\r\n            window.scrollTo({\r\n                top: boundedScrollTop,\r\n                behavior: 'smooth',\r\n            });\r\n        };\r\n\r\n        let wheelId;\r\n\r\n        const handleWheel = (e) => {\r\n            // This handler is only attached if wheelStep is a truthy number.\r\n            e.preventDefault();\r\n            setIsWheel(false)\r\n            const totalScrollableHeight = html.scrollHeight - html.clientHeight;\r\n            if (totalScrollableHeight <= 0) return; // No scrolling needed\r\n\r\n            const currentScrollTop = html.scrollTop;\r\n            // Use Math.sign to determine direction and apply the step.\r\n            const scrollAmount = Math.sign(e.deltaY) * wheelStep;\r\n\r\n            const newScrollTop = currentScrollTop + scrollAmount;\r\n\r\n            // Clamp the new scroll position to stay within the valid range.\r\n            const boundedScrollTop = Math.max(0, Math.min(newScrollTop, totalScrollableHeight));\r\n\r\n            // Programmatically scroll the page.\r\n            html.scrollTop = boundedScrollTop;\r\n            window.scroll({\r\n                top: e.deltaY * 600,\r\n                left: 0,\r\n                behavior: 'smooth'\r\n            });\r\n\r\n            wheelId = setTimeout(() => {\r\n                setIsWheel(true);\r\n            }, 500);\r\n\r\n        };\r\n\r\n        // Initial setup\r\n        updateScrollbar();\r\n        window.addEventListener('resize', updateScrollbar);\r\n        window.addEventListener('scroll', updateScrollbar);\r\n\r\n        // Drag events\r\n        thumbRef.current?.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n            setIsDragging(true);\r\n            startY.current = e.clientY;\r\n            startScrollTop.current = html.scrollTop;\r\n            // document.body.style.cursor = 'grabbing';\r\n            // document.body.style.userSelect = 'none';\r\n        });\r\n\r\n\r\n        const handleThumbClick = (e) => {\r\n            e.stopPropagation();\r\n        }\r\n        // click event on the rail\r\n        railRef?.current?.addEventListener('click', handleMouseClick);\r\n        thumbRef.current?.addEventListener('click', handleThumbClick);\r\n\r\n\r\n        document.addEventListener('mousemove', handleMouseMove);\r\n        document.addEventListener('mouseup', handleMouseUp);\r\n        window.addEventListener('load', () => {\r\n            updateScrollbar();\r\n            setIsLoading(false);\r\n        });\r\n\r\n        // Add wheel event listener if wheelStep is provided\r\n        // if (wheelStep) {\r\n        //     document.addEventListener('wheel', handleWheel, { passive: false });\r\n        // }\r\n        document.addEventListener('wheel', handleWheel, { passive: false });\r\n\r\n\r\n        // document.addEventListener('scrollend', () => { \r\n        //     setIsWheel(true);\r\n        // })\r\n\r\n        return () => {\r\n            html.classList.remove('csb-scrollbar-active');\r\n            window.removeEventListener('resize', updateScrollbar);\r\n            window.removeEventListener('scroll', updateScrollbar);\r\n            document.removeEventListener('mousemove', handleMouseMove);\r\n            document.removeEventListener('mouseup', handleMouseUp);\r\n            window.removeEventListener('load', updateScrollbar);\r\n            railRef?.current?.removeEventListener('click', handleMouseClick)\r\n            thumbRef.current?.removeEventListener('click', handleThumbClick);\r\n            if (wheelStep) {\r\n                document.removeEventListener('wheel', handleWheel);\r\n            }\r\n            clearTimeout(wheelId);\r\n        };\r\n    }, [isLoading, isShowScrollbar, railRef.current, thumbRef.current, thumbHeight, isDragging]);\r\n    return { isLoading, isActive, thumbHeight, thumbPosition, isDragging, isWheel };\r\n};","export const isSet = v => v !== undefined && v !== null && v !== '';","// extracted by mini-css-extract-plugin\nexport {};","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useEffect, useRef } from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { useScrollbar } from '../hooks/useScrollbar';\r\nimport { isSet } from '../utils/function';\r\nimport \"./style.scss\";\r\nconst Scrollbar = ({ scrollbarData }) => {\r\n    const { asb_showscrollbar, asb_color = '', asb_background = '', asb_mousescrollstep = 40, asb_autohidemode= false, asb_railalign=\"right\"    } = scrollbarData;\r\n    // console.log(scrollbarData)\r\n    const thumbRef = useRef(null);\r\n    const railRef = useRef(null);\r\n    const showScrollbar = JSON.parse(asb_showscrollbar);\r\n\r\n    const autoHideMode = asb_autohidemode === \"coursor\" ? \"coursor\" : JSON.parse(asb_autohidemode);\r\n\r\n    const { isWheel, isLoading, thumbHeight, thumbPosition } = useScrollbar(railRef, thumbRef, showScrollbar, Number(asb_mousescrollstep));\r\n    useEffect(() => {\r\n        if (window.self === window.top && showScrollbar) {\r\n            document.documentElement.classList.add('csb-scrollbar-active');\r\n        } else {\r\n            document.documentElement.classList.remove('csb-scrollbar-active');\r\n        }\r\n\r\n        // Cleanup function to remove the class when the component unmounts\r\n        return () => {\r\n            document.documentElement.classList.remove('csb-scrollbar-active');\r\n        };\r\n    }, [showScrollbar]);\r\n\r\n    const styles = {\r\n        ...(showScrollbar && { \"--csb-scrollbar-rail-display-property\": 'block' }),\r\n        ...(isSet(asb_background) && { \"--csb-scrollbar-rail-background-color\": asb_background }),\r\n\r\n\r\n    };\r\n    const thumbStyles = {\r\n        ...(isSet(thumbHeight) && { \"--csb-scrollbar-thumb-height\": thumbHeight + \"px\" }),\r\n        ...(isSet(thumbPosition) && { \"--csb-scrollbar-thumb-position\": thumbPosition + \"px\" }),\r\n        ...(isSet(asb_color) && { \"--csb-scrollbar-thumb-color\": asb_color }),\r\n    }\r\n\r\n    // const dynamicClassRail = autoHideMode === \"cursor\" ? \"csb-scrollbar-rail-cursor\" : autoHideMode ? isWheel ?\"csb-scrollbar-auto-hide\":\"\":\"\"\r\n\r\n    let dynamicClassRail = '';\r\n        if (autoHideMode == 'coursor') {\r\n            // This class shows the scrollbar on hover\r\n            dynamicClassRail = 'csb-scrollbar-rail-cursor-hover';\r\n        } else if (autoHideMode) {\r\n\r\n            // This class hides the scrollbar when not actively wheel-scrolling\r\n            dynamicClassRail = 'csb-scrollbar-auto-hide';\r\n        }\r\n\r\n\r\n    if (isLoading) return;\r\n\r\n    return (\r\n        <div ref={railRef} className={`csb-scrollbar-rail railAlign${asb_railalign} ${isWheel ? dynamicClassRail : \"\"}`} style={{ ...styles }}>\r\n            <div className='csb-scrollbar-rail-thumb' ref={thumbRef} style={{ ...thumbStyles }} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Scrollbar;\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const scrollbarEl = document.getElementById(\"csbScrollbar\");\r\n    const scrollbarData = JSON.parse(scrollbarEl.dataset.scrollbar);\r\n    const root = createRoot(scrollbarEl);\r\n    root.render(<Scrollbar scrollbarData={scrollbarData} />);\r\n    scrollbarEl.removeAttribute('data-scrollbar')\r\n});\r\n\r\n\r\n\r\n"],"names":["useEffect","useRef","useState","useScrollbar","railRef","thumbRef","isShowScrollbar","wheelStep","isClick","isDrag","isActive","setIsActive","startY","startScrollTop","isDragging","setIsDragging","thumbHeight","setThumbHeight","thumbPosition","setThumbPosition","isLoading","setIsLoading","isWheel","setIsWheel","html","document","documentElement","handleThumbDrag","clientY","totalScrollableHeight","scrollHeight","clientHeight","dragDistanceY","current","availableTrackHeight","scrollRatio","unboundedScrollTop","boundedScrollTop","Math","max","min","scrollTop","scrollProgress","newThumbPosition","classList","add","updateScrollbar","scrollableHeight","newThumbHeight","scrollPercentage","maxThumbPosition","handleMouseMove","e","handleMouseUp","body","style","cursor","userSelect","handleMouseClick","preventDefault","viewportHeight","currentScrollTop","thumbRect","getBoundingClientRect","newScrollTop","top","bottom","window","scrollTo","behavior","wheelId","handleWheel","scrollAmount","sign","deltaY","scroll","left","setTimeout","addEventListener","stopPropagation","handleThumbClick","passive","remove","removeEventListener","clearTimeout","isSet","v","undefined","createRoot","Scrollbar","scrollbarData","asb_showscrollbar","asb_color","asb_background","asb_mousescrollstep","asb_autohidemode","asb_railalign","showScrollbar","JSON","parse","autoHideMode","Number","self","styles","thumbStyles","dynamicClassRail","createElement","ref","className","scrollbarEl","getElementById","dataset","scrollbar","root","render","removeAttribute"],"sourceRoot":""}